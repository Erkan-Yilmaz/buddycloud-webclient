#globalHeader
  height 21px
  padding 0 13px
  linear-bg-gradient #333, #111
  color white
  text-shadow 0 1px black
  box-shadow 0 1px 2px rgba(0,0,0,.13)
  position relative
  z-index 5
  display none
  .logo
    float right
  .search
    input
      padding 2px 5px
      box-shadow 0 1px white, 0 1px rgba(0,0,0,.03) inset
      border 1px solid rgba(0,0,0,.08)
      border-radius 3px
      display none

#content
  margin-left 76px
  color rgba(0,0,0,.89)
  text-shadow 0 1px rgba(255,255,255,.34)
  position relative
  box-shadow 0 0 7px black
  z-index 1
  &.overlapping
    min-height 100%
    position absolute
    .channelView
      height 100%
      position fixed
    .messageView
      min-height 100%
      margin-left 200px
      box-shadow 0 0 13px rgba(0, 0, 0, 0.55), 0 0 34px rgba(0, 0, 0, 0.55), 0 0 55px rgba(0, 0, 0, 0.55)
      float none
      position absolute
      z-index 4
.channelOverview #content
  margin-left 100%
.channelOverview.stateArrived #content
  height 400px // variable height to disable the vertical scrollbar

.channelView
  padding 13px
  background #eee
  overflow hidden
  position relative
  z-index 1
  > header
    width 492px
    padding-left 8px
    position relative
    h2
      float left
    nav
      margin-top 6px
      margin-right -1px
      float right
      > div
        margin-left 5px
        float left
      .tab
        margin-top 5px
        padding 0 13px
        height 27px
        font-size 12px
        line-height 30px
        color rgba(0, 0, 0, 0.55)
        background rgba(0, 0, 0, 0.08)
        border 1px solid rgba(0, 0, 0, 0.05)
        border-bottom none
        border-radius 5px 5px 0 0
        position relative
        cursor pointer
        &.active
          background white
          border-color rgba(0, 0, 0, 0.13)
          z-index 3
          cursor default
    + .topic
      border-radius 3px 3px 0 0
    .loggedIn
      .follow, .newTopic, .tab
        display none
.myChannel
  .follow, .newTopic, .unfollow, .info
    display none

/* my Channel specials for the tabs */
.myChannel .stream
  border-radius 5px 0 5px 5px
  section.newTopic
    border-radius 5px 0 0 0
  
  
.stream  
  width 500px
  border-radius 5px
  box-shadow 0 0 0 1px rgba(0, 0, 0, 0.08), 0 0 13px rgba(0, 0, 0, 0.05)
  float left
  position relative
  z-index 2
  transform-style preserve-3d
  perspective 1000
  article
    padding 13px
    background white
    position relative
    box-shadow inset 0 -1px rgba(0,0,0,.21)
    overflow hidden
    &:last-child
      border-radius 0 0 5px 5px
    &.new
      box-shadow inset 0 -1px rgba(0,0,0,.21), 3px 0 0 default_highlight inset
  .notification
    height 50px
    margin-top -76px
    color white
    text-shadow 0 1px 1px rgba(0,0,0,.21)
    background admin_highlight
    transition 500ms 
    transform-origin bottom
    transform rotateX(70deg)
    opacity 0
    &.new
      box-shadow 3px 0 0 default_highlight inset
    &.visible
      opacity 1
      margin-top 0
      transform rotateX(0deg)
    section
      padding-left 63px
    .name
      vertical-align top
      transition 500ms
    .controls
      right 13px
      top 30px
      position absolute
      > div
        margin-left 5px
    .avatar
      width 50px
      transition 500ms
    &.log
      height 25px
      padding-top 5px
      padding-bottom 5px
      color rgba(0, 0, 0, 0.55)
      text-shadow 0 1px 1px rgba(255,255,255,.34)
      background-color #f2f2f2
      box-shadow 0 -1px rgba(0, 0, 0, 0.08) inset
      section
        line-height 25px
        min-height 25px
      .avatar
        left 38px
        width 25px
      p
        display none
      .name
        opacity 0
      &.granted .name,
      &.denied .name
        opacity 1
      .controls 
        display none
      &.granted .granted,
      &.denied .denied
        display inline-block
        max-width 9999px
        opacity 1
    .granted, .denied
      height 25px
      max-width 0
      line-height 25px
      overflow hidden
      opacity 0
      display none
      transition 500ms
  .opener
    min-height 50px
    padding-left 63px
  .location
    margin-left 5px
    font-size 11px
    line-height 19.5px
    color rgba(0,0,0,.34)
  .postmeta
    float right
    margin 0 0 0 13px
    text-align right
    nav
      visibility hidden
    span
      color rgba(0,0,0,.5)
      font-size 11.5px
      line-height 19.5px
      &.time
        display block
        color rgba(0,0,0,.34)
  .name
    font-weight bold
    overflow hidden
    white-space nowrap
    text-overflow ellipsis
  .opener:hover nav, .comment:hover nav
    visibility visible
  .avatar
    left 13px
    position absolute
    border-radius 3px
  section > p 
    width 398px
    vertical align
  section.answer
    position relative
    overflow hidden
    textarea
      margin-top 13px
      padding 4px 5px 2px
      height 18px
      width 386px
      font 12px/18px sans-serif
      border 1px solid rgba(0,0,0,.21)
      box-shadow 1px 1px white, inset 1px 1px rgba(0,0,0,0.05)
      position relative
      resize none
    .avatar
      width 26px
      left 63px
      top 18px
      transition none
    .button
      margin-top -24px
      margin-bottom 1px
      float right
      transition none
      opacity 0
    &.write
      .avatar
        width 40px
        left 11px
      textarea
        margin-bottom 3px
        height 37px
        resize vertical
      .button
        margin-top 0
        opacity 1
  .comments
    padding-left 13px
    .comment
      min-height 40px
      position relative
    section
      padding-top 5px
      padding-left 63px 
    .avatar
      top 6px
      left 11px
      width 40px
      border-radius 2px
    .postmeta
      display none
    .location
      display none
  section.newTopic
    padding 13px 13px 12px 51px
    linear-bg-gradient white, #F2F2F2
    border-bottom 1px solid rgba(0,0,0,.13)
    border-radius 5px 5px 0 0
    display block
    overflow hidden
    position relative
    z-index 1
    .avatar
      left 13px
      top 13px
      width 50px
      position absolute
      z-index 2
      transition 250ms
    textarea
      width 400px
      height 38px
      padding 5px
      margin 0
      border 1px solid rgba(0, 0, 0, 0.13)
      font 13px/19.5px sans-serif
      display block
      float right
      position relative
      z-index 2
      transition 250ms
    &.write textarea
      height 89px
      margin-bottom 29px
    .controls
      bottom 13px
      right 13px
      font-size 11px
      position absolute
      .button
        display inline-block  
  .message
    min-height 14px
    padding-left 66px
    color rgba(0,0,0,.55)
    cursor pointer
    &.new
      background-color rgba(0,0,0,.08)
    &.selected
      color darken(light_highlight, 55%)
      background light_highlight
      .location, .time
        color rgba(darken(light_highlight, 55%), 0.55)
    &:last-child
      box-shadow none
    .avatar
      width 40px
    p
      overflow hidden
      white-space nowrap
      text-overflow ellipsis
        
.conversation
  .newTopic
  article
    padding 13px 13px 13px 46px
    background white
    box-shadow 0 0 3px rgba(0,0,0,.13 inset)
    position relative
    &:last-child
      border-radius 0 0 5px 5px
    .avatar
      left 13px
      width 25px
      border-radius 2px
      position absolute
    .postmeta
      color rgba(0,0,0,.34)
      float none
      display none
    p
      margin-top 3px
      padding 0 8px
      font-size 12px
      background #eee
      border-radius 5px
      display inline-block
      float left
      clear left
      .time
        display none
  .me
    padding-left 13px
    padding-right 46px
    p
      clear right
      float right
    .avatar
      left auto
      right 13px
    .postmeta
      text-align right

.moderationPanel
  display none
.moderate .moderationPanel
  height 28px
  width 100%
  margin 5px 0 13px
  linear-bg-gradient rgba(0,0,0,.08), rgba(0,0,0,.21)
  color black
  box-shadow 0 1px 2px rgba(0,0,0,.4) inset, 0 -1px rgba(0,0,0,.03),0 -2px rgba(0,0,0,.03), 0 -3px rgba(0,0,0,.03)
  border-radius 0 0 5px 5px
  box horizontal justify center
  > div
    padding 5px 0
    text-align center
    cursor pointer
    box-flex 1
    transition 500ms
    &:first-child
      border-bottom-left-radius 5px
    &:last-child
      border-bottom-right-radius 5px
    &:hover
      linear-bg-gradient rgba(0,0,0,.05), rgba(0,0,0,.13)
      
.channelDetails
  width 222px
  padding 21px
  font-size 12px
  color rgba(0,0,0,.55)
  float left
  position relative
  transition 500ms
  &.hidden
    margin-left -252px
    opacity 0
  .meta
    p
      margin-bottom 8px
      .title
        margin-right 5px
        font-weight bold
        position relative
      &.open .title, &.closed .title
        margin-right 2px
        &:after
          margin-left 5px
          width 16px
          height 18px
          content ""
          vertical-align top
          background url(../../public/icons/unlock-small.png) no-repeat center
          display inline-block
      &.closed .title
        &:after
          background url(../../public/icons/lock-small.png) no-repeat center
  .channelList
    margin 13px 0 8px
    &:after
      content ""
      display block
      clear both
      visibility hidden
      line-height 0
      height 0
    h3
      margin-bottom 3px
      font-size 18px
    img
      margin 0 7px 7px 0
      vertical-align bottom
      border-radius 3px
      float left
      display block
      cursor pointer
      &:nth-child(4n)
        margin-right 0
    .showAll
      padding-top 3px
      line-height 19px
      text-align center
      linear-bg-gradient(rgba(0, 0, 0, 0.01), rgba(0, 0, 0, 0.03))
      border-bottom 1px solid rgba(0, 0, 0, 0.03)
      box-shadow 0 1px rgba(0, 0, 0, 0.03) inset, 0 1px rgba(255,255,255,.55)
      clear left
      cursor pointer
      &:hover
        color default_highlight
        background default_highlight - rgba(0,0,0,0.89) + 50%
        
.count
  font-size 14px
  line-height 27px
  color default_highlight
  &:before
    content "("
  &:after
    content ")"